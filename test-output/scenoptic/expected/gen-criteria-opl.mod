float epsilon = 1e-10;

string B2 = "a";
string B3 = 10;
string B4 = ">2";
string B5 = " >2";
string B6 = "aa";
dvar int A2 in 0..2048;
dvar int A3 in 0..2048;
dvar int A4 in 0..2048;
dvar int A5 in 0..2048;
dvar int A6 in 0..2048;
dvar int G2;
dvar int G3;
dvar int G8;

minimize ;

subject to {
  (B2 == ">2" => (B3 == ">2" => (B4 == ">2" => (B5 == ">2" => (B6 == ">2" => G2 == A2 + A3 + A4 + A5 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A2 + A3 + A4 + A5)) && (B5 >= ">2" + epsilon || B5 <= ">2" - epsilon => (B6 == ">2" => G2 == A2 + A3 + A4 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A2 + A3 + A4))) && (B4 >= ">2" + epsilon || B4 <= ">2" - epsilon => (B5 == ">2" => (B6 == ">2" => G2 == A2 + A3 + A5 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A2 + A3 + A5)) && (B5 >= ">2" + epsilon || B5 <= ">2" - epsilon => (B6 == ">2" => G2 == A2 + A3 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A2 + A3)))) && (B3 >= ">2" + epsilon || B3 <= ">2" - epsilon => (B4 == ">2" => (B5 == ">2" => (B6 == ">2" => G2 == A2 + A4 + A5 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A2 + A4 + A5)) && (B5 >= ">2" + epsilon || B5 <= ">2" - epsilon => (B6 == ">2" => G2 == A2 + A4 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A2 + A4))) && (B4 >= ">2" + epsilon || B4 <= ">2" - epsilon => (B5 == ">2" => (B6 == ">2" => G2 == A2 + A5 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A2 + A5)) && (B5 >= ">2" + epsilon || B5 <= ">2" - epsilon => (B6 == ">2" => G2 == A2 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A2))))) && (B2 >= ">2" + epsilon || B2 <= ">2" - epsilon => (B3 == ">2" => (B4 == ">2" => (B5 == ">2" => (B6 == ">2" => G2 == A3 + A4 + A5 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A3 + A4 + A5)) && (B5 >= ">2" + epsilon || B5 <= ">2" - epsilon => (B6 == ">2" => G2 == A3 + A4 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A3 + A4))) && (B4 >= ">2" + epsilon || B4 <= ">2" - epsilon => (B5 == ">2" => (B6 == ">2" => G2 == A3 + A5 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A3 + A5)) && (B5 >= ">2" + epsilon || B5 <= ">2" - epsilon => (B6 == ">2" => G2 == A3 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A3)))) && (B3 >= ">2" + epsilon || B3 <= ">2" - epsilon => (B4 == ">2" => (B5 == ">2" => (B6 == ">2" => G2 == A4 + A5 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A4 + A5)) && (B5 >= ">2" + epsilon || B5 <= ">2" - epsilon => (B6 == ">2" => G2 == A4 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A4))) && (B4 >= ">2" + epsilon || B4 <= ">2" - epsilon => (B5 == ">2" => (B6 == ">2" => G2 == A5 + A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == A5)) && (B5 >= ">2" + epsilon || B5 <= ">2" - epsilon => (B6 == ">2" => G2 == A6) && (B6 >= ">2" + epsilon || B6 <= ">2" - epsilon => G2 == 0)))));
  (match-excel-re[B2]["a*"] => (match-excel-re[B3]["a*"] => (match-excel-re[B4]["a*"] => (match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A2 + A3 + A4 + A5 + A6) && (!match-excel-re[B6]["a*"] => G3 == A2 + A3 + A4 + A5)) && (!match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A2 + A3 + A4 + A6) && (!match-excel-re[B6]["a*"] => G3 == A2 + A3 + A4))) && (!match-excel-re[B4]["a*"] => (match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A2 + A3 + A5 + A6) && (!match-excel-re[B6]["a*"] => G3 == A2 + A3 + A5)) && (!match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A2 + A3 + A6) && (!match-excel-re[B6]["a*"] => G3 == A2 + A3)))) && (!match-excel-re[B3]["a*"] => (match-excel-re[B4]["a*"] => (match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A2 + A4 + A5 + A6) && (!match-excel-re[B6]["a*"] => G3 == A2 + A4 + A5)) && (!match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A2 + A4 + A6) && (!match-excel-re[B6]["a*"] => G3 == A2 + A4))) && (!match-excel-re[B4]["a*"] => (match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A2 + A5 + A6) && (!match-excel-re[B6]["a*"] => G3 == A2 + A5)) && (!match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A2 + A6) && (!match-excel-re[B6]["a*"] => G3 == A2))))) && (!match-excel-re[B2]["a*"] => (match-excel-re[B3]["a*"] => (match-excel-re[B4]["a*"] => (match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A3 + A4 + A5 + A6) && (!match-excel-re[B6]["a*"] => G3 == A3 + A4 + A5)) && (!match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A3 + A4 + A6) && (!match-excel-re[B6]["a*"] => G3 == A3 + A4))) && (!match-excel-re[B4]["a*"] => (match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A3 + A5 + A6) && (!match-excel-re[B6]["a*"] => G3 == A3 + A5)) && (!match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A3 + A6) && (!match-excel-re[B6]["a*"] => G3 == A3)))) && (!match-excel-re[B3]["a*"] => (match-excel-re[B4]["a*"] => (match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A4 + A5 + A6) && (!match-excel-re[B6]["a*"] => G3 == A4 + A5)) && (!match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A4 + A6) && (!match-excel-re[B6]["a*"] => G3 == A4))) && (!match-excel-re[B4]["a*"] => (match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A5 + A6) && (!match-excel-re[B6]["a*"] => G3 == A5)) && (!match-excel-re[B5]["a*"] => (match-excel-re[B6]["a*"] => G3 == A6) && (!match-excel-re[B6]["a*"] => G3 == 0)))));
  (A2 >= A3 + 1 => (A3 >= A3 + 1 => (A4 >= A3 + 1 => (A5 >= A3 + 1 => (A6 >= A3 + 1 => G8 == A2 + A3 + A4 + A5 + A6) && (A6 <= A3 => G8 == A2 + A3 + A4 + A5)) && (A5 <= A3 => (A6 >= A3 + 1 => G8 == A2 + A3 + A4 + A6) && (A6 <= A3 => G8 == A2 + A3 + A4))) && (A4 <= A3 => (A5 >= A3 + 1 => (A6 >= A3 + 1 => G8 == A2 + A3 + A5 + A6) && (A6 <= A3 => G8 == A2 + A3 + A5)) && (A5 <= A3 => (A6 >= A3 + 1 => G8 == A2 + A3 + A6) && (A6 <= A3 => G8 == A2 + A3)))) && (A3 <= A3 => (A4 >= A3 + 1 => (A5 >= A3 + 1 => (A6 >= A3 + 1 => G8 == A2 + A4 + A5 + A6) && (A6 <= A3 => G8 == A2 + A4 + A5)) && (A5 <= A3 => (A6 >= A3 + 1 => G8 == A2 + A4 + A6) && (A6 <= A3 => G8 == A2 + A4))) && (A4 <= A3 => (A5 >= A3 + 1 => (A6 >= A3 + 1 => G8 == A2 + A5 + A6) && (A6 <= A3 => G8 == A2 + A5)) && (A5 <= A3 => (A6 >= A3 + 1 => G8 == A2 + A6) && (A6 <= A3 => G8 == A2))))) && (A2 <= A3 => (A3 >= A3 + 1 => (A4 >= A3 + 1 => (A5 >= A3 + 1 => (A6 >= A3 + 1 => G8 == A3 + A4 + A5 + A6) && (A6 <= A3 => G8 == A3 + A4 + A5)) && (A5 <= A3 => (A6 >= A3 + 1 => G8 == A3 + A4 + A6) && (A6 <= A3 => G8 == A3 + A4))) && (A4 <= A3 => (A5 >= A3 + 1 => (A6 >= A3 + 1 => G8 == A3 + A5 + A6) && (A6 <= A3 => G8 == A3 + A5)) && (A5 <= A3 => (A6 >= A3 + 1 => G8 == A3 + A6) && (A6 <= A3 => G8 == A3)))) && (A3 <= A3 => (A4 >= A3 + 1 => (A5 >= A3 + 1 => (A6 >= A3 + 1 => G8 == A4 + A5 + A6) && (A6 <= A3 => G8 == A4 + A5)) && (A5 <= A3 => (A6 >= A3 + 1 => G8 == A4 + A6) && (A6 <= A3 => G8 == A4))) && (A4 <= A3 => (A5 >= A3 + 1 => (A6 >= A3 + 1 => G8 == A5 + A6) && (A6 <= A3 => G8 == A5)) && (A5 <= A3 => (A6 >= A3 + 1 => G8 == A6) && (A6 <= A3 => G8 == 0)))));
}
